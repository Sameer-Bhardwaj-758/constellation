<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Our Constellation | Reeya</title>
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@600&display=swap" rel="stylesheet">
    <style>
        body, html { margin: 0; padding: 0; width: 100%; height: 100%; overflow: hidden; background-color: #050515; color: white; }
        canvas { display: block; position: absolute; top: 0; left: 0; z-index: 1; }
        #constellation-title { position: absolute; top: 20px; width: 100%; text-align: center; font-family: 'Dancing Script', cursive; font-size: 2em; color: #ffb6ff; z-index: 10; pointer-events: none; }
        #intro-overlay { position: fixed; inset: 0; background: #050515; display: flex; justify-content: center; align-items: center; z-index: 1000; transition: opacity 1s; }
        #intro-content { text-align: center; padding: 30px; border: 1px solid #ffb6ff; border-radius: 15px; background: rgba(255,255,255,0.05); backdrop-filter: blur(5px); }
        #start-btn { background: #ffb6ff; border: none; color: #050515; padding: 15px 40px; font-size: 1.2em; border-radius: 50px; cursor: pointer; font-weight: bold; margin-top: 15px; }
        #popup { position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); background: #140a2e; padding: 20px; border: 1px solid #ffb6ff; border-radius: 10px; z-index: 2000; display: none; width: 250px; text-align: center; }
        #finalMessage { position: fixed; top: 40%; left: 50%; transform: translate(-50%, -50%); text-align: center; z-index: 100; display: none; width: 100%; }
    </style>
</head>
<body>

    <div id="intro-overlay">
        <div id="intro-content">
            <h1 style="font-family: 'Dancing Script';">ðŸŒŒ For Reeya</h1>
            <p>Every star is a promise.</p>
            <button id="start-btn">Begin Our Journey</button>
        </div>
    </div>

    <div id="constellation-title">The Constellation Reeya</div>
    <div id="popup"><p id="popup-text"></p><button onclick="document.getElementById('popup').style.display='none'" style="background:#ffb6ff; border:none; padding:5px 15px; border-radius:10px; cursor:pointer;">Close</button></div>
    <div id="finalMessage"><h2 style="font-family: 'Dancing Script'; font-size: 3em; color: #ffb6ff;">âœ¨ My Valentine âœ¨</h2><p>Every promise leads back to you.</p></div>

    <canvas id="sky"></canvas>

    <script>
        const canvas = document.getElementById("sky");
        const ctx = canvas.getContext("2d");
        let stars = [], bg = [], hearts = [], reeya = [], nameAlpha = 0, nameVisible = false;

        const starData = [
            {x:0.2, y:0.4, d:"Rose Day", t:"I promise to choose you every day."},
            {x:0.4, y:0.6, d:"Propose Day", t:"My heart will always belong to you."},
            {x:0.6, y:0.4, d:"Chocolate Day", t:"I'll fill your life with sweetness."},
            {x:0.8, y:0.7, d:"Teddy Day", t:"I'll be your forever comfort."},
            {x:0.8, y:0.3, d:"Promise Day", t:"I will stand beside you always."},
            {x:0.5, y:0.2, d:"Hug Day", t:"Emotional hugs across distance."},
            {x:0.3, y:0.2, d:"Kiss Day", t:"Soft and true love forever."}
        ];

        function setup() {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
            stars = starData.map(s => ({...s, px: s.x * canvas.width, py: s.y * canvas.height, clicked: false}));
            bg = []; for(let i=0; i<100; i++) bg.push({x:Math.random()*canvas.width, y:Math.random()*canvas.height, r:Math.random()*2});
            hearts = []; for(let i=0; i<15; i++) hearts.push({x:Math.random()*canvas.width, y:Math.random()*canvas.height, v:Math.random()*0.5+0.2});
            reeya = [{x:0.4,y:0.85},{x:0.45,y:0.85},{x:0.5,y:0.85},{x:0.55,y:0.85},{x:0.6,y:0.85}]; // Simple line represent for test
        }

        function draw() {
            ctx.fillStyle = "#050515";
            ctx.fillRect(0,0,canvas.width,canvas.height);

            // BG Stars
            ctx.fillStyle = "white";
            bg.forEach(s => { ctx.beginPath(); ctx.arc(s.x, s.y, s.r, 0, Math.PI*2); ctx.fill(); });

            // Hearts
            ctx.fillStyle = "#ffb6ff";
            hearts.forEach(h => { h.y -= h.v; if(h.y < -10) h.y = canvas.height+10; ctx.fillText("â¤", h.x, h.y); });

            // Lines
            ctx.strokeStyle = "rgba(255,182,255,0.2)";
            ctx.beginPath();
            for(let i=0; i<stars.length-1; i++) { ctx.moveTo(stars[i].px, stars[i].py); ctx.lineTo(stars[i+1].px, stars[i+1].py); }
            ctx.stroke();

            // Main Stars
            stars.forEach(s => {
                ctx.fillStyle = s.clicked ? "#ffb6ff" : "white";
                ctx.beginPath(); ctx.arc(s.px, s.py, s.clicked ? 6 : 4, 0, Math.PI*2); ctx.fill();
            });

            if(nameVisible) {
                nameAlpha = Math.min(1, nameAlpha + 0.01);
                ctx.fillStyle = `rgba(255,182,255,${nameAlpha})`;
                reeya.forEach(p => { ctx.beginPath(); ctx.arc(p.x*canvas.width, p.y*canvas.height, 3, 0, Math.PI*2); ctx.fill(); });
            }
            requestAnimationFrame(draw);
        }

        canvas.addEventListener("click", (e) => {
            stars.forEach(s => {
                const dist = Math.sqrt((e.clientX-s.px)**2 + (e.clientY-s.py)**2);
                if(dist < 30 && !s.clicked) {
                    s.clicked = true;
                    document.getElementById('popup-text').innerHTML = `<b>${s.d}</b><br>${s.t}`;
                    document.getElementById('popup').style.display = 'block';
                    if(stars.every(st => st.clicked)) {
                        setTimeout(() => { nameVisible = true; document.getElementById('finalMessage').style.display='block'; }, 2000);
                    }
                }
            });
        });

        document.getElementById('start-btn').addEventListener('click', () => {
            setup();
            draw();
            document.getElementById('intro-overlay').style.opacity = '0';
            setTimeout(() => document.getElementById('intro-overlay').style.display='none', 1000);
        });

        window.addEventListener('resize', setup);
    </script>
</body>
</html>
